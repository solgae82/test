[퍼옴]
톰캣 구동시

	JAVA_OPTS="$JAVA_OPTS -Djava.security.egd=file:/dev/./urandom"

을 적용하면 된다

또하나의 방법은 java.security 파일에 아래와 같이 이를 명시하는 것입니다. (회사에서는 이 방법을 주로 쓰고 있어요)

	securerandom.source=file:/dev/./urandom

	java.security 파일의 위치는

	JDK 8 이하 : {JAVA_HOME}/jre/lib/security/java.security
	JDK 9 이상 : {JAVA_HOME}/conf/security/java.security
	Tomcat최신 버전에서는 해당 옵션이 없어도 된다는데 아직 정확히 어느 버전부터인지는 찾지는 못했어요.

-----------
[퍼옴]
톰켓 구동 시 멈춤(지연 10분 이상) 현상이 발생하여 찾아보던중 

블로킹 이슈문제가 있네요.

해결방법 #1 (O/S별 환경변수 설정)

 ** Linux
    # vi /etc/profile.d/java.sh 또는 vi /etc/bashrc
 
      JAVA_OPTS="$JAVA_OPTS -Djava.security.egd=file:/dev/./urandom"

 ** Windows
      내컴퓨터 > 고급 시스템 설정 > 고급 > 환경 변수(N).. > 시스템 변수(S) > 새로 만들기(W).. 
 
      변수 이름(N) : JAVA_OPTS
      변수 값(V)   : %JAVA_OPTS% -Djava.security.egd=file:/dev/./urandom

	윈도우의 경우 "을 붙이면 안됨.
 
해결방법 #2 (공통)

 ** java.security 파일 추가 및 수정

   jdk 8 이하 : $JAVA_HOME/jre/lib/security/java.security
   jdk 9 이상 : $JAVA_HOME/conf/security/java.security

   securerandom.source=file:/dev/./urandom
 

자바 버그로 인해 /dev/urandom 을 인식하지 못하고 /dev/./urandom 으로 처리해야 함.


참고: https://lng1982.tistory.com/261

출처: https://gampol.tistory.com/entry/Tomcat-구동-시-devurandom-블로킹-이슈지연시작-문제 [유효하지 않네]

------------- 실전 적용

검색해 본 바에 의하면
톰갯 구동시 JAVA_OPTS를 주는 위치가 위에서 설명한 방법 포함해서 

	1. 운영체제 환경변수로 만들어서 적용하기 (위에 설명)
		/etc/profile 또는 /etc/profile.d/java.sh 파일 만들어서 넣기
			JAVA_OPTS="$JAVA_OPTS -Djava.security.egd=file:/dev/./urandom"

	2. 자바홈/../java.security 파일에 설정해서 적용하기 (위에 설명)
		securerandom.source=file:/dev/./urandom

	3. 톰캣홈/bin/setenv.sh 만들어서 적용하기
		JAVA_OPTS="$JAVA_OPTS -Djava.security.egd=file:/dev/./urandom"

	4. 톰캣홈/bin/catalina.sh 상단에 직접 적용하기 
		JAVA_OPTS="$JAVA_OPTS -Djava.security.egd=file:/dev/./urandom"

등이 있나 보다.

1번은 centos에서 아무리 적용해 봐도 안 되었고, 
2번은 적용되었다..
	
3번과 4번은 적용되었다
	securerandom.source=file:/dev/urandom
	securerandom.source=file:/dev/./urandom (버그 때문에 이렇게 수정해야 한다고라고 함)
처럼 ./을 넣엇 수정하면 되더라..

3번과 4번은 적용 후  
	ps -ef | grep tomcat 

을 해서 검색 출력된 옵션 텍스트 중에

	-Djava.security.egd=file:/dev/./urandom 

위와같이 톰캣 옵션이 적용되었는지 확인하면 된다.

윈도우즈도 catalina.bat 또는 java.security 에 적용하면 될 듯 하다.