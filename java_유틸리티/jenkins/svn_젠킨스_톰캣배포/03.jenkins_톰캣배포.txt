------------------- 연동설정 순서

1. jenkins 수동 설정으로 svn 접근해서 메이븐 플젝 빌드하기
2. svn 훅 트리거로 jenkins 호출해서 메이븐 플젝 빌드하기 (토큰필요)
3. jenkins 에서 빌드한 war 파일 톰캣 서버에 배포하기

svn 커밋(변경)이 되면 > svn이 jenkins를 변경 호출을 알리고 > jenkins은 svn 플젝 소스를 가져와 빌드 > 마지막 톰캣서버에 배포

------------------- jenkins 에서 빌드한 war 파일 톰캣 서버에 배포하기

1. jenkins 플러그인 설치
	deploy to container

2. 톰캣 배포 플러그인 활성화

	톰캣 설치하면 webapps 에 기본으로 설치된 배포 manager 웹애플리케이션을 사용한다.
	배포 애플리케이션을 활성화하기 위해 설정 작업을 한다.
	
	톰캣홈/webapps/conf/tomcat-users.xml

	  <role rolename="manager-gui"/>
	  <role rolename="manager-script"/>
	  <role rolename="manager-jmx"/>
	  <role rolename="manager-status"/>
	  <role rolename="admin-gui"/>
	  <user username="admin" password="1234" roles="manager-gui,manager-script,manager-jmx,manager-status,admin-gui"/>

	톰캣홈/webapps/manger/META-INF/content.xml

		<!-- 주석처리, 또는 jenkins 서버 IP 설정
		  <Valve className="org.apache.catalina.valves.RemoteCIDRValve"
			 allow="127.0.0.0/8,::1/128" />
		-->
		
	톰캣 재시작 후 /manager 를 접속해서 나오면 설정한 admin/1234 로 접속하면 톰캣 설정 끝
	(이왕이면 웹으로 war 배포가 잘 되는지 업로드해서 확인도 하면 더 좋고!)
	
3. jenkins 추가설정
	
	빌드 후 조치
	
	Deploy war/ear to a container
		WAR/EAR files(입력) : **/*.war
		
		Context path : web
		
		Containers
			
			Tomcat 9.x Remote 선택
			
			Credentials 
				Domain(디폴트): Global credentials (unrestricted)
				Kind(디폴트) : Username with password
					scope(디폴트) : Global (jenkins, nodes, items, all child itmes, etc)
					
					Useranme : admin
					Password : 1234
					ID : tomcat-manager
					Description : 톰갯 매니저 계정
					
			Tomcat URL : http://192.168.0.6:8080
					
	Apply & Save 적용
	
4. 지금 빌드(build Now) 메뉴 실행 후 배포되는지 확인.

