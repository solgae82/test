UEFI vs BIOS 과 Windows 10 설치 이해하기

태초에 컴 구동 시키는 프로그램은 하나였다.
BIOS라고 불리는 프로그램이 그것인데, 
이 녀석은 초기에 구동되는 절대적 프로그램인 동시에 
일반명사화 되어 버린 프로그램이었다.
신과 같은 녀석

그런데, 신이 또 하나 생겼다..그 녀석이 UEFI 

	BIOS : 컴 시작시 초기화 구형 시스템
	UEFI : 컴 시작시 초기화 신형 시스템 (새로 생겼다)

	요즘 보드는 기본 시작이 UEFI 시스템이다
	(화려한 그래픽을 자랑하면 대부분 UEFI)

	앞으로 두 녀석을 '초기화 시스템' 이라 부르겠다.

이해를 위한 기본 용어정리 

	BIOS :	보드 BIOS 칩에 내장된 BIOS 펌웨어를 말한다. 
		비휘발성 내장 소프트웨어. 
	CMOS : 
		BOIS에서 설정한 값들이 저장되는 칩메모리. 
		휘발성 설정값 저장 파일 or 데이터베이스(?)라고 생각하면 됨. 
		CMOS 배터리로 값을 유지한다(보드에서 이 배터리를 제거하면 자동 초기화 된다)
		
		'BIOS 에서 CMOS 값을 바꿔!' 가 맞는 표현일 것이다.

	UEFI :	기존 BIOS 한계를 극복하는 펌웨어 인터페이스(소프트웨어 + 시스템)
	
	MBR 파티션 : 
		하드디스크 파티션 형식 중 하나
		주파티션 최대 4개, 더 확장하려면 1개는 논리파티션으로 만들고 더 나눌 수 있다
		최대 2TB 를 넘을 수 없다
		32 bit,  64bit 지원
		BIOS 시스템이 인식할 수 있는 파티션

	GPT 파티션 : 
		하드디스크 파티션 형식 중 하나
		주파티션 , 논리파티션 개념이 없고 최대 128개의 파티션 가능.
		최대 8ZB 사용 가능
		64 bit만 지원
		UEFI 시스템이 인식할 수 있는 파티션

BIOS 와 UEFI 차이비교
	
	BIOS :  
		텍스트 기반 설정 UI
		소프트웨어 용량이 작아서 불편한 셋팅 환경(키보드만 쓸 수 있는 등)
		부팅시 디스크 인식 : MBR 파티션 시스템 인식			
		새로운 초기화 시스템인 UEFI가 나와서 legacy라는 명칭으로 불리게 된다
		
	UEFI :  
		그래픽기반 설정 UI
		소프트웨어 용량이 크고 BIOS 소프트웨어보다 그래픽이 화려하고 마우스도 지원한다.
		secure boot 를 이용하여 디지털 서명이 확인되지 않은 드라이버 or 장치 로더의 로드를 막을 수 있다
		부팅시 디스크 인식 : GPT 파티션 시스템 인식
			(근데 이 UEFI는 자신과 맞지 않는 MBR 파티션도 인식할 수 있게 하기 위해 
			UEFI 를  Lagacy(BIOS) 로 셋팅하는 모드가 있다
			요게 앞으로 다룰 문제의 시발점이 된다)

BIOS vs UEFI 그래서 뭔 차이가 있나?

	초기화 소프트웨어 성능과, 부팅절차와 부팅시 인식할 수 있는 파티션 시스템이 다르다.(한마디로 새판, 새로운 대륙)
	부팅절차와 인식 가능 파티션 구조가 달라서 얻는 이점 중 대표적인 점은 
	부팅이 빨라지고, 대용량 파티션를 사용할 수 있다 등이 있을 것이다.


신이 둘이라 생기는 궁합 문제가 생겼다

	결론 : 
	BIOS 시스템 => 부팅시 MBR 파티션 만 인식
	UEFI 시스템 => 부팅시 GPT 파티션 만 인식
	
---------------------------------------// 윈도우10 USB 설치시 궁합 


요즘은 윈도우 10 용 USB 부팅디스크를 만들어 윈도우10을 설치한다 

USB 부팅디스크를 만들때 설치할 컴 초기화 시스템(BIOS, UEFI)을 알아보고 만들어야 한다.
각 초기화 시스템이 인식하는 파티션으로 만들어야 하니까

초기화 시스템과 윈도우 10 설치용 USB 부팅디스크의 궁합을 보자 

	BIOS + USB(MBR파티션) :
		부팅시 BIOS 시스템이 MBR 파티션으로 된 USB 를 읽을 수 있다. 부팅이 된다

	BIOS + USB(GPT파티션) :
		부팅시 BIOS 시스템이 GPT 파티션으로 된 USB 를 읽을 수 없다. 부팅이 안된다
	
	UEFI + USB(MBR파티션) :
		부팅시 UEFI 시스템이 MBR 파티션으로 된 USB 를 읽을 수 없다. 부팅이 안된다
		(대신 UEFI 모드에서 legacy(BIOS 모드)로 설정을 바꾸면 부팅할 수 있다.)

	UEFI + USB(GPT파티션) :
		부팅시 UEFI 시스템이 GPT 파티션으로 된 USB 를 읽을 수 있다. 빠른 부팅이 된다


다시 반복해 보면 

	BIOS 시스템 => USB 부팅디스크 만들시 인식 가능한 MBR 파티션 으로 만들어야 한다. 
	UEFI 시스템 => USB 부팅디스크 만들시 인식 가능한 GPT 파티션 으로 만들어야 한다. 

---------------------------------------요약

	해결 핵심키워드: 

	BIOS 시스템 => USB부팅시 MBR 파티션 만 인식 => 하드디스크 윈도우10 설치시 MBR 파티션으로 설치됨
	UEFI 시스템 => USB부팅시 GPT 파티션 만 인식 => 하드디스크 윈도우10 설치시 GPT 파티션으로 설치됨

---------------------------------------기타Tips

1. 윈도우 명령어 'diskpart' 디스크 파티션 초기화 방법
	
	시작 > 실행 > cmd(관리자 권한으로)
	diskpart
	list disk		# 디스크 리스트 출력 - 삭제할 디스크 번호 확인
	select disk '번호'	# 디스크 선택
	detail disk		# 디스크가 맞는지 확인
	clean			# 디스크 파티션 초기화
	exit			# 종료

2. windows 10 설치 USB 만들기

	Refus 프로그램 : 
		windows 10 설치 파일을 .iso 형식으로 받았을 경우 usb로 설치 부팅 복사 시켜주는 대표적인 프로그램.
	
	설치 옵션 : 
		부트 선택 : iso 파일 선택
		파티션 방식 : MBR , GPT 등
		포맷 옵션 : FAT32 , NTFS 등

	위 설정등이 뭔지 이제 이해가 갈 것이다.
	
	설치한 컴 '초기화 시스템' 을 파악하고 거기에 파티션 옵션을 설정해서 usb 설치 부팅 디스크를 제작하면 된다.

3. 부팅 디스크(GPT)로  사용 후 이전 일반(MBR) 상태로 복구하려면?

	GPT디스크 설치USB 만든 후 원치 않는 파티션(uefi파티션)이 생기는데, 
	이를 지우고 다시 하나의 파티션으로 초기화 하고 싶다면 다음과 같이 한다

	1) 윈도우 명령어 'diskpart' 디스크 파티션 초기화
	2) 초기화 후 내컴퓨터 > 우측마우스 선택 > 관리 > 컴퓨터관리 > 저장소 > 디스크 관리 실행
	3) 해당 USB 디스크 선택 후 > 새 단순 볼륨 선택해서 다시 파일시스템등을 설정 초기화

4. 내 컴 BIOS 모드 확인 
	시작 >  cmd > msinfo32 : 실행하면 창이 뜨고 잘 찾아보면	 'BIOS 모드' 라는 게 있는데,
	 거기에 'UEFI' ,'Lagacy' 등으로 나온다. 
	Lagacy 가 구형 BIOS 형식이다

5. 파티션 종류 확인
	방식 1:  시작 > cmd > 관리자로 실행 > 
		diskpart 엔터
		list disk 엔터

		Gpt 아래에 '*' 표시가 있다면 GPT파티션, 없으면 MBR 파티션
	
	방식 2: 내컴퓨터 > 우측마우스 속성 > 관리 > 컴퓨터 관리 > 컴퓨터 관리(로컬) > 저장소 > 디스크 관리 
		
		해당 디스크를 누르고 우측 마우스 클릭(파티션이 아니고) > 속성 > 속성창 탭 중 볼륨 > 
		파티션 형식을 보면 나온다

6. Windows 10 설치시 설치할 디스크가 새것이 아닌 이미 한번 파티션이 잡혔있던 디스크일때
	
	UEFI 시스템으로 부팅했으므로 설치프로그램이 GPT 파티션으로 포맷 및 설치를 시도하려는데,
	장착된 SSD,또는 하드디스크가 MBR파티션이 이미 정해져 있을 경우인데, 
	아래와 같은 에러창을 보여준다.
	
	'이 디스크에 Windows를 설치할 수 없습니다. 선택한 디스에 MBR 파티션 테이블이 있습니다. 
	EFI 시스템에서는 GPT 디스크에만 Windows를 설치할 수 있습니다.'

	이제는 이해가 가는 메시지 일것이다.
	이렇게 이미 MBR이 한번 잡힌 디스크에 GPT 형식으로 설치는 안 된다.
	그럼 어떻게? 디스크 초기화를 해야지..(도스모드로 들어가서)

		shift + F10 

	이 단축키가 설치할때 도스모드를 실행하는 방법이고, 
	diskpart 명령어를 실행시켜 디스크 파티션을 초기화 후 
	설치하면 에러 메시지가 나타나지 않고 잘 설치된다.


